@import "../variables.less";

@menuTopMargin: 10px;
header {
    position: fixed;
    left: 0;
    right: 0;
    background-color: @brand-primary;
    box-shadow: 0 1px 3px 1px @shadow-color;
    white-space: nowrap;
    z-index: 10;
    height: 100px;

    a, .btn-link {
        color: @text-color-light;

        &:hover, &:active, &:focus {
            color: @text-color-light;
        }
    }

    .left-decor {
        margin-left: 30px;
        margin-right: 30px;
        max-height: 97px;
        box-shadow: -2px 0 8px 1px rgba(29, 38, 55, 0.9), 2px 0 8px 1px rgba(29, 38, 55, 0.9);
        // On phones, show the decor image in the background, shifted far left.
        @media (max-width: @screen-xs-max) {
            position: absolute;
            z-index: -1;
            left: -85px;
        }
    }

    .login {
        @media (max-width: @screen-xs-max) {
            position: absolute;
        }
    }

    .title {
        color: @text-color-light;
        font-size: 42px;
        text-shadow: 0 2px 1px #1d2637, 2px 0 1px #1d2637, -2px 0 1px #1d2637, 0 -2px 1px #1d2637;
        font-family: @title-font;

        @media (max-width: @screen-xs-max) {
            padding-left: 15px;
        }

        a, a:hover, a:active, a:visited {
            text-decoration: none;
        }
    }

    .title .hebrew {
        font-size: 48px;
    }

    .subtitle {
        color: #d7c146;
        text-shadow: 0 0 #1d2637;
        padding: 5px;
        margin-left: 45px;
        margin-top: -10px;
        font-family: 'Simonetta', cursive;
        font-style: italic;
        font-size: 22px;

        @media(max-width: @screen-xs-max) {
            margin-left: 15px;
        }

        .btn-link {
            font-size: 20px;
            color: #646464;
            text-shadow: 1px 1px 2px #eeeeee, -1px -1px 2px #eeeeee, 1px -1px 2px #eeeeee, -1px 1px 2px #eeeeee;
            padding-left: 2px;
            padding-top: 3px;
        }
    }

    .dropdown-menu {
        // Left auto and right zero. Otherwise, the drop down menu is obscured off to the right side of the screen.
        left: auto !important;
        right: 0;
    }

    .profile-btn {
        button {
            padding-right: 0;
            padding-left: 7px;

            &:hover, &:active, &:focus {
                text-decoration: none;
            }

            h3 {
                margin-top: @menuTopMargin;
            }
        }

        .profile-pic {
            max-width: 30px;
            max-height: 30px;
            display: inline;
        }
    }

    .notifications-btn {
        &.open {
            button {
                color: white;
            }
        }

        button {
            text-decoration: none;
            padding-right: 7px;
            font-size: 20px;

            @media (max-width: @screen-xs-max) {
                // This is needed on mobile, otherwise the edge of the menu/profile button is partially off the page.
                padding-left: 0;
            }

            h3 {
                margin-top: @menuTopMargin;
            }
        }

        .dropdown-menu {
            min-width: 350px;
            max-height: 500px;
            overflow: auto;

            @media (max-width: @screen-xs-max) {
                min-width: 250px;
                max-width: 300px;
            }

            li {
                border-bottom: 1px solid @gray-lighter;
                border-top: 1px solid @gray-lighter;
                padding-bottom: 5px;
                padding-top: 5px;
                margin-top: -1px;
                transition: background-color linear 2s;

                .description {
                    white-space: normal;
                }

                img {
                    max-width: 50px;
                    max-height: 50px;
                    margin-right: 10px;
                    box-shadow: 0 0 5px 0 @gray-light;
                    vertical-align: text-top;
                }

                &.unread {
                    background-color: @gray-light;
                }
            }
        }

        .badge {
            background-color: red;
            position: absolute;
            top: 15px;
            right: 0;
        }

        .popover {
            margin-top: -7px;
            margin-right: 7px;
        }
    }

    .go-back {
        margin-top: -15px;

        a {
            color: @text-color-light;
            font-size: 20px;
            outline: none;
            padding-left: 0;

            &:hover, &:active, &:visited, &:focus {
                color: darken(@text-color-light, 10%);
                text-decoration: none;
                outline: none;
            }

            @media(max-width: @screen-xs-max) {
                margin-left: 15px;
            }
        }
    }

    .donation-alert {
        background-color: @brand-background;
        opacity: 0.9;
        width: fit-content;
        margin-left: auto;
        margin-right: auto;
        margin-top: 20px;
        text-align: center;
        white-space: normal;
        transition: all linear 5s;

        &.ng-hide {
            opacity: 0;
        }

        a {
            color: @text-color-light !important;
        }
    }
    /* Unlike the other menu icons, discord icon is an image (SVG). The icon is black. Tone it down a bit to fit in with the others. */
    img.discord-chat {
        opacity: 0.4;
    }
    /* On hover of the menu item, turn the discord icon white. */
    li:hover img.discord-chat {
        opacity: 1;
        filter: invert(1);
    }
}
